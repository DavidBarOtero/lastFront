{"ast":null,"code":"import _slicedToArray from \"/home/david/Escritorio/frontSinBug/NiceEventFrontFinal-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/david/Escritorio/frontSinBug/NiceEventFrontFinal-master/src/components/IndexComponents/Events/Rating.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"./../../Api/auth-requests\";\nimport BeautyStars from \"beauty-stars\";\n\nfunction Rating(props) {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        valueRating = _useState2[0],\n        setValueRating = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        rated = _useState4[0],\n        setRated = _useState4[1];\n\n  const _useAuth = useAuth(),\n        tokenOk = _useAuth.tokenOk;\n\n  useEffect(() => {\n    if (valueRating !== 0) {\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${tokenOk}`;\n      axios.post(`${process.env.REACT_APP_BACKEND}/api/myevents/`, {\n        data: {\n          idProfessional: props.idProfessional,\n          idEvent: props.idEvent,\n          rate: valueRating\n        }\n      });\n      setRated(true);\n    }\n  }, [valueRating]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, rated === false && React.createElement(BeautyStars, {\n    value: valueRating,\n    size: \"20px\",\n    onChange: valueRating === 0 && (value => setValueRating(value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }));\n}\n\nexport { Rating };","map":{"version":3,"sources":["/home/david/Escritorio/frontSinBug/NiceEventFrontFinal-master/src/components/IndexComponents/Events/Rating.js"],"names":["React","axios","useState","useEffect","useAuth","BeautyStars","Rating","props","valueRating","setValueRating","rated","setRated","tokenOk","defaults","headers","common","post","process","env","REACT_APP_BACKEND","data","idProfessional","idEvent","rate","value"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,2BAAxB;AACA,OAAOC,WAAP,MAAwB,cAAxB;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA,oBACiBL,QAAQ,CAAC,CAAD,CADzB;AAAA;AAAA,QACdM,WADc;AAAA,QACDC,cADC;;AAAA,qBAEKP,QAAQ,CAAC,KAAD,CAFb;AAAA;AAAA,QAEdQ,KAFc;AAAA,QAEPC,QAFO;;AAAA,mBAGDP,OAAO,EAHN;AAAA,QAGbQ,OAHa,YAGbA,OAHa;;AAIrBT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,WAAW,KAAK,CAApB,EAAuB;AACrBP,MAAAA,KAAK,CAACY,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAkD,UAASH,OAAQ,EAAnE;AAEAX,MAAAA,KAAK,CAACe,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,gBAA5C,EAA6D;AAC3DC,QAAAA,IAAI,EAAE;AACJC,UAAAA,cAAc,EAAEd,KAAK,CAACc,cADlB;AAEJC,UAAAA,OAAO,EAAEf,KAAK,CAACe,OAFX;AAGJC,UAAAA,IAAI,EAAEf;AAHF;AADqD,OAA7D;AAOAG,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAbQ,EAaN,CAACH,WAAD,CAbM,CAAT;AAeA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,KAAK,KAAK,KAAV,IACC,oBAAC,WAAD;AACE,IAAA,KAAK,EAAEF,WADT;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAEA,WAAW,KAAK,CAAhB,KAAsBgB,KAAK,IAAIf,cAAc,CAACe,KAAD,CAA7C,CAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF;AAWD;;AAED,SAASlB,MAAT","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"./../../Api/auth-requests\";\nimport BeautyStars from \"beauty-stars\";\n\nfunction Rating(props) {\n  const [valueRating, setValueRating] = useState(0);\n  const [rated, setRated] = useState(false);\n  const { tokenOk } = useAuth();\n  useEffect(() => {\n    if (valueRating !== 0) {\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${tokenOk}`;\n\n      axios.post(`${process.env.REACT_APP_BACKEND}/api/myevents/`, {\n        data: {\n          idProfessional: props.idProfessional,\n          idEvent: props.idEvent,\n          rate: valueRating\n        }\n      });\n      setRated(true);\n    }\n  }, [valueRating]);\n\n  return (\n    <div>\n      {rated === false && (\n        <BeautyStars\n          value={valueRating}\n          size=\"20px\"\n          onChange={valueRating === 0 && (value => setValueRating(value))}\n        />\n      )}\n    </div>\n  );\n}\n\nexport { Rating };\n"]},"metadata":{},"sourceType":"module"}